<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <meta name="title" content="Dashboard - Climbly" />
    <title>Dashboard - Climbly</title>
    <meta content="Climbly is the simplest notes taking app across all your devices. Climbly is available in all deceives and 100% free" name="description" />
    <link rel="shortcut icon" type="img/png" href="/images/favicon.png">
    <meta content="climbly, climbly.in, simple notes taking, climbly notes taking, best and free notes taking app, note taking website climbly" name="keywords" />
    <meta name="robots" content="noindex">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/media-style.css">
    <link rel="stylesheet" href="/mobile.css">
    <style>
        .file{
            display: block;
            margin-bottom: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <%- include('topnav.ejs'); -%>

    <div class="mobile-cont"> 

        <form action="/img" method="POST">
            <div class="mobile-profile-box">
                <img src="/images/no_profile.svg" alt="" class="mobile-profile-img">
                <div class="profile-edit-outer">
                    <label>Choose a profile image</label>
                    <input type="file" name="image" accept="image/*" onchange="loadFile(event), previewFile()" class="file">

                    <input type="hidden" class="hide-on" name="imguri" value=''>
                </div>
                <button class="mobile-profile-edit-save" onclick='uploadImage()'>Save Profile</button>
            </div>
        </form>
        
        <div class="copyright">Climbly.in &copy; 2021</div>
    </div>

    <%- include('bottomnav.ejs'); -%>

    <script>
        document.querySelector('#profilee').innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="24px" height="24px" viewBox="0 0 24 24"><path fill="#2C2A24" d="M12,2A10,10,0,0,0,4.65,18.76h0a10,10,0,0,0,14.7,0h0A10,10,0,0,0,12,2Zm0,18a8,8,0,0,1-5.55-2.25,6,6,0,0,1,11.1,0A8,8,0,0,1,12,20ZM10,10a2,2,0,1,1,2,2A2,2,0,0,1,10,10Zm8.91,6A8,8,0,0,0,15,12.62a4,4,0,1,0-6,0A8,8,0,0,0,5.09,16,7.92,7.92,0,0,1,4,12a8,8,0,0,1,16,0A7.92,7.92,0,0,1,18.91,16Z"/></svg>';
    
        function getContent(){
            document.querySelector('.mobile-profile-edit-save').innerHTML = '<svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" width="25px" height="30px" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="20 20 60 60" enable-background="new 0 0 0 0" xml:space="preserve"><path fill="#0489e0;" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite"></animateTransform></path></svg><span class="savetext">&nbsp; Uploading</span>';
        }

        var loadFile = function(event) {
            var output = document.querySelector('.mobile-profile-img');
            output.src = URL.createObjectURL(event.target.files[0]);
            output.onload = function() {
                URL.revokeObjectURL(output.src) // free memory
            }
        };

        function previewFile() {
                const preview = document.querySelector('.ankan');
                const hide = document.querySelector('.hide-on');

                const file = document.querySelector('input[type=file]').files[0];
                const reader = new FileReader();

                reader.addEventListener("load", function () {
                    // convert image file to base64 string
                    // preview.src = reader.result;
                    hide.value = reader.result;

                }, false);

                if (file) {
                    reader.readAsDataURL(file);
                }
            }

    </script>
</body>
</html>